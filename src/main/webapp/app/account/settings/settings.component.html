<div>
    <div class="row justify-content-center">
        <div class="col-md-8">

            <h2 jhiTranslate="settings.title" [translateValues]="{username: settingsAccount.login}" *ngIf="settingsAccount">User settings for [<b>{{settingsAccount.login}}</b>]</h2>

            <div class="alert alert-success" *ngIf="success" jhiTranslate="settings.messages.success">
                <strong>Settings saved!</strong>
            </div>

            <jhi-alert-error></jhi-alert-error>
			<div *ngIf="settingsAccount" >
				<form name="form" role="form" (ngSubmit)="save()" #settingsForm="ngForm" *ngIf="settingsAccount" novalidate>
				
					<div class="row">
						<button *ngIf="isEditingBasic" [disabled]="isSavingBasic" class="btn btn-secondary" (click)="cancelBasic()">
							<fa-icon [icon]="'ban'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
						</button>			
						<button *ngIf="isEditingBasic" [disabled]="isSavingBasic || settingsForm.form.invalid" class="btn btn-primary" (click)="saveBasic()">
							<fa-icon [icon]="'save'"></fa-icon>&nbsp;<span jhiTranslate="settings.form.save">Save</span>
						</button>
						<button *ngIf="!isEditingBasic" [disabled]="isSavingBasic" class="btn btn-primary" (click)="editBasic()">
							<fa-icon [icon]="'edit'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.edit">Edit</span>
						</button>
					</div>
					<div class="row">
						<div class="col-md-9 order-2 order-md-1">	
				
							<div class="form-group">
								<label class="form-control-label" for="firstName" jhiTranslate="settings.form.firstname">First Name</label>
								<input type="text" class="form-control" id="firstName" name="firstName" placeholder="{{'settings.form.firstname.placeholder' | translate}}"
									   [(ngModel)]="settingsAccount.firstName" minlength=1 maxlength=50 #firstNameInput="ngModel" required>
								<div *ngIf="firstNameInput.dirty && firstNameInput.invalid">
									<small class="form-text text-danger"
									   *ngIf="firstNameInput.errors.required" jhiTranslate="settings.messages.validate.firstname.required">
										Your first name is required.
									</small>
									<small class="form-text text-danger"
									   *ngIf="firstNameInput.errors.minlength" jhiTranslate="settings.messages.validate.firstname.minlength">
										Your first name is required to be at least 1 character.
									</small>
									<small class="form-text text-danger"
									   *ngIf="firstNameInput.errors.maxlength" jhiTranslate="settings.messages.validate.firstname.maxlength">
										Your first name cannot be longer than 50 characters.
									</small>
								</div>
							</div>
							<div class="form-group">
								<label class="form-control-label" for="lastName" jhiTranslate="settings.form.lastname">Last Name</label>
								<input type="text" class="form-control" id="lastName" name="lastName" placeholder="{{'settings.form.lastname.placeholder' | translate}}"
									   [(ngModel)]="settingsAccount.lastName" minlength=1 maxlength=50 #lastNameInput="ngModel" required>
								<div *ngIf="lastNameInput.dirty && lastNameInput.invalid">
									<small class="form-text text-danger"
									   *ngIf="lastNameInput.errors.required" jhiTranslate="settings.messages.validate.lastname.required">
										Your last name is required.
									</small>
									<small class="form-text text-danger"
									   *ngIf="lastNameInput.errors.minlength" jhiTranslate="settings.messages.validate.lastname.minlength">
										Your last name is required to be at least 1 character.
									</small>
									<small class="form-text text-danger"
									   *ngIf="lastNameInput.errors.maxlength" jhiTranslate="settings.messages.validate.lastname.maxlength">
										Your last name cannot be longer than 50 characters.
									</small>
								</div>
							</div>
							<div class="form-group">
								<label class="form-control-label" for="email" jhiTranslate="global.form.email">Email</label>
								<input type="email" class="form-control" id="email" name="email" placeholder="{{'global.form.email.placeholder' | translate}}"
									   [(ngModel)]="settingsAccount.email" minlength="5" maxlength="254" #emailInput="ngModel" email required>
								<div *ngIf="emailInput.dirty && emailInput.invalid">
									<small class="form-text text-danger"
									   *ngIf="emailInput.errors.required" jhiTranslate="global.messages.validate.email.required">
										Your email is required.
									</small>
									<small class="form-text text-danger"
									   *ngIf="emailInput.errors.email" jhiTranslate="global.messages.validate.email.invalid">
										Your email is invalid.
									</small>
									<small class="form-text text-danger"
									   *ngIf="emailInput.errors.minlength" jhiTranslate="global.messages.validate.email.minlength">
										Your email is required to be at least 5 characters.
									</small>
									<small class="form-text text-danger"
									   *ngIf="emailInput.errors.maxlength" jhiTranslate="global.messages.validate.email.maxlength">
										Your email cannot be longer than 100 characters.
									</small>
								</div>
							</div>
							<div class="form-group" *ngIf="languages && languages.length > 0">
								<label for="langKey" jhiTranslate="settings.form.language">Language</label>
								<select class="form-control" id="langKey" name="langKey" [(ngModel)]="settingsAccount.langKey">
									<option *ngFor="let language of languages" [value]="language">{{language | findLanguageFromKey}}</option>
								</select>
							</div>
						</div>
						<div class="col-md-3 order-1 order-md-2">
							<div>
								<img [src]="settingsAccount.imageUrl"
									class="profile-image"
									alt="">
							</div>
							<div class="text-center">
								<button *ngIf="isEditingBasic" type="button" [disabled]="isSavingBasic" class="btn btn-primary" (click)="uploadUserImage()">
									<fa-icon [icon]="'file-upload'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.upload"> Upload</span>
								</button>
							</div>
						</div>
					</div>
				</form>
			</div>
			<div *ngIf="settingsAccount" class="row">
				<div>
					<button [disabled]="isSavingBasic" class="btn btn-primary" (click)="uploadFile()">
						<fa-icon [icon]="'file-upload'"></fa-icon>&nbsp;<span jhiTranslate="entity.action.upload"> Upload</span>
					</button>
				</div>
				&nbsp;&nbsp;
				<div>
					<button [disabled]="isSavingBasic" class="btn btn-danger" (click)="createMyShop()">
						<fa-icon [icon]="'save'"></fa-icon>&nbsp;<span jhiTranslate="settings.form.createmyshop">Create My Shop</span>
					</button>
				</div>
			</div>
        </div>
    </div>

</div>
