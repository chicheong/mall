
<div *ngIf="myOrder">
	<form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">
	<div class="row">
		<jhi-alert-error></jhi-alert-error>
	</div>
	<div class="row" *jhiHasAnyAuthority="'ROLE_USER'">
		<div class="col-md-5"><h2><span jhiTranslate="mallApp.myOrder.detail.title">My Order</span></h2></div>
		<div class="col-md-7" [ngSwitch]="canCheckout()">
		    <button type="button" [disabled]="isSaving" class="btn btn-info" (click)="previousState()">
		        <span class="fa fa-arrow-left"></span>&nbsp;<span jhiTranslate="entity.action.back"> Back</span>
		    </button>
		    <button *ngSwitchCase="true" type="button" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary" (click)="cancel()">
	            <span class="fa fa-save"></span>&nbsp;<span jhiTranslate="entity.action.saveUpdate">Save & Update</span>
	        </button>
	        <button *ngSwitchCase="true" type="submit" [disabled]="editForm.form.invalid || isSaving" class="btn btn-success">
	            <span class="fa fa-credit-card"></span>&nbsp;<span jhiTranslate="entity.action.checkout">Checkout</span>
	        </button>
		</div>
    </div>
	<div class="row">
	  <div class="col-md-1">photo</div>
	  <div class="col-md-5">product item name</div>
	  <div class="col-md-2">unit price</div>	
	  <div class="col-md-2">quantity</div>
	  <div class="col-md-2">sub total</div>
	</div>
	<div class="row" *ngFor="let item of myOrder.items">
	  <div class="col-md-1">
	  	<span class="hipster img-fluid img-rounded"></span>
	  </div>
	  <div class="col-md-5">
	  	<span class="hipster img-fluid img-rounded">{{item.productItem.color.name + ' ' + item.productItem.size.name}}</span>
	  </div>
	  <div class="col-md-2">
	  	<span class="hipster img-fluid img-rounded">{{item.price}}</span>
	  </div>	  
	  <div class="col-md-2">
		<span class="hipster img-fluid img-rounded">
			<input type="number" class="form-control" name="price" 
                [(ngModel)]="item.quantity" />
        </span>
	  </div>
	  <div class="col-md-2">
	  	<span class="hipster img-fluid img-rounded">{{item.price * item.quantity}}</span>
	  </div>
	</div>
	<hr>
	<div class="row">
		<div class="col-md-1"></div>
		<div class="col-md-5"></div>
		<div class="col-md-2"></div>
		<div class="col-md-2"><h3><span *ngIf="myOrder.items" jhiTranslate="mallApp.myOrder.total">Total</span>:&nbsp;&nbsp;{{myOrder.currency}}</h3></div>
		<div class="col-md-2"><h3>{{sumAll()}}</h3></div>
	</div>    
    </form>

	<hr>
</div>
